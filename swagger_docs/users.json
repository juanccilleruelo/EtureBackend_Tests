{
  "swagger":"2.0",
  "info":
  {
    "version":"Ver 1.0",
    "title":"Eture Server API",
    "description":"Eture Server RESTful API Documentation",
    "contact":
    {
      "name":"Juan C.Cilleruelo",
      "email":"juanc.cilleruelo@sencille.es",
      "url":"https:\/\/github.com\/juanccilleruelo"
    }
  }
,
  "host":"127.0.0.1:8181",
  "basePath":"\/api",
  "schemes":
  [
    "http"
  ]
,
  "paths":
  {
    "\/login":
    {
      "post":
      {
        "tags":
        [
          "JWT Authentication"
        ]
,
        "description":"Create JSON Web Token",
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"header",
            "name":"jwtusername",
            "type":"string"
          }
,
          
          {
            "in":"header",
            "name":"jwtpassword",
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"OK",
            "schema":
            {
              "type":"object",
              "properties":
              {
                "token":
                {
                  "type":"string",
                  "description":"JWT Token"
                }
              }
            }
          }
,
          "401":
          {
            "description":"Invalid authorization type"
          }
,
          "403":
          {
            "description":"Forbidden"
          }
,
          "500":
          {
            "description":"Internal server error"
          }
        }
,
        "security":
        [
                    {
            "basic":
            [
                          ]
          }
        ]
      }
    }
,
    "\/users\/emailexists":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Check if email is registered",
        "operationId":"UsersController.TUsersController_EmailExists",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"EMAIL",
            "description":"Email address to check (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Email existence check result with BOOLEAN field (Y=exists, N=does not)"
          }
,
          "400":
          {
            "description":"Missing required parameter EMAIL. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getfilterbyprofilesusers":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Get available user profiles\/roles",
        "operationId":"UsersController.TUsersController_GetFilterByProfilesUsers",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"Language",
            "description":"Language code EN\/ES (if empty defaults to EN)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Array of available user profiles with CD_USER_ROLE and DS_USER_ROLE"
          }
,
          "400":
          {
            "description":"Missing required parameter or invalid value. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getorderbyfields":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Get available fields for ordering",
        "operationId":"UsersController.TUsersController_GetOrderByFields",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"Language",
            "description":"Language code EN\/ES (if empty defaults to EN)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Array of available order fields with FIELD and DESCRIPTION"
          }
,
          "400":
          {
            "description":"Missing required parameter or invalid value. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/sendinvitation":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Send invitation email to new user",
        "operationId":"UsersController.TUsersController_SendInvitation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CD_METRICS",
            "description":"Metrics identifier (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"PREFERRED_LANGUAGE",
            "description":"Preferred language EN\/ES (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"EMAIL",
            "description":"Email address to send invitation to (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"CD_USER_ROLE",
            "description":"User role code ADMIN\/STAFF\/AGENT\/PARENT (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Invitation sent successfully with MESSAGE field"
          }
,
          "400":
          {
            "description":"Missing required parameter or invalid value. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error or email sending failed. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/clearinvitation":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Clear\/revoke invitation for user",
        "operationId":"UsersController.TUsersController_ClearInvitation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CD_USER",
            "description":"User code identifier (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Invitation cleared successfully with MESSAGE field"
          }
,
          "400":
          {
            "description":"Missing required parameter CD_USER. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getbasicinfo":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Get basic user info by invitation GUID",
        "operationId":"UsersController.TUsersController_GetBasicInfo",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"GUID",
            "description":"Invitation GUID token (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"User basic information with CD_USER, EMAIL, CREATED, VERIFIED, and related fields"
          }
,
          "400":
          {
            "description":"Missing required parameter GUID. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/invitationactive":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Check if invitation is valid (not expired)",
        "operationId":"UsersController.TUsersController_InvitationActive",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"GUID",
            "description":"Invitation GUID token (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Invitation validity check result with BOOLEAN field (Y=valid, N=expired)"
          }
,
          "400":
          {
            "description":"Missing required parameter GUID. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/isreferenced":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Check if user is referenced in other tables",
        "operationId":"UsersController.TUsersController_IsReferenced",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CD_USER",
            "description":"User code identifier to check (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Reference check result with TABLE field (NONE when not referenced)"
          }
,
          "400":
          {
            "description":"Missing required parameter CD_USER. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/load":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Load paginated users with filtering and sorting",
        "operationId":"UsersController.TUsersController_Load",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"OrderField",
            "description":"Field to order by (optional, default: USERS.CD_USER)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"FilterBy",
            "description":"Filter by user role (optional)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"Language",
            "description":"Language code EN\/ES (if empty defaults to EN)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"PageNumber",
            "description":"Page number (required, must be >= 1)",
            "required":true,
            "type":"integer"
          }
,
          
          {
            "in":"body",
            "name":"SearchText",
            "description":"Search text filter (optional)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Array of users for requested page. X-Pages-Quantity header contains total pages"
          }
,
          "400":
          {
            "description":"Invalid PageNumber (must be >= 1). Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getbasicdata":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Get user code and name by email",
        "operationId":"UsersController.TUsersController_GetBasicData",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"EMAIL",
            "description":"User email address (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Array with user code (CD_USER) and display name (DS_USER), or MESSAGE when not found"
          }
,
          "400":
          {
            "description":"Missing required parameter EMAIL. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getall":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Retrieve all users with complete information",
        "operationId":"UsersController.TUsersController_GetAll",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"Language",
            "description":"Language code (EN\/ES, if empty defaults to EN)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Array of users with full user information (CD_USER, EMAIL, CREATED, VERIFIED, etc)"
          }
,
          "400":
          {
            "description":"Missing required parameter or invalid value. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/getone":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Get single user by code",
        "operationId":"UsersController.TUsersController_GetOne",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CD_USER",
            "description":"User code identifier (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"User object with complete user information"
          }
,
          "204":
          {
            "description":"User not found"
          }
,
          "400":
          {
            "description":"Missing required parameter CD_USER. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/delete":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Delete user",
        "operationId":"UsersController.TUsersController_Delete",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CD_USER",
            "description":"User code identifier to delete (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"User deleted successfully"
          }
,
          "400":
          {
            "description":"Missing required parameter CD_USER. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/update":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Update existing user",
        "operationId":"UsersController.TUsersController_Update",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"EMAIL",
            "description":"User email address (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"FIRST_NAME",
            "description":"First name (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"LAST_NAME",
            "description":"Last name (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"TITLE",
            "description":"User title (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"PHONE_NUMBER",
            "description":"Phone number (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"PREFERRED_LANGUAGE",
            "description":"Preferred language EN\/ES (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"OLD_CD_USER",
            "description":"Current user code identifier (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"CD_USER",
            "description":"New user code identifier (optional)",
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"User updated successfully"
          }
,
          "400":
          {
            "description":"Missing required parameter OLD_CD_USER. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/users\/insert":
    {
      "post":
      {
        "tags":
        [
          "Users"
        ]
,
        "description":"Insert new user (UNIT TESTS ONLY)",
        "operationId":"UsersController.TUsersController_Insert",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"CREATED",
            "description":"User creation date (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"VERIFIED",
            "description":"Verification status Y\/N (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"RENEW_VERIFY",
            "description":"Renewal verification status Y\/N (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"CD_USER_ROLE",
            "description":"User role code (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"SALT",
            "description":"Password salt (optional, auto-generated if not provided)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"PASSWORD",
            "description":"User password (optional, auto-generated if not provided)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"TITLE",
            "description":"User title (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"FIRST_NAME",
            "description":"First name (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"LAST_NAME",
            "description":"Last name (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"CD_USER",
            "description":"User code identifier (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"EMAIL",
            "description":"User email address (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "201":
          {
            "description":"User created successfully"
          }
,
          "400":
          {
            "description":"Missing required parameter or invalid value. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
  }
,
  "securityDefinitions":
  {
    "basic":
    {
      "type":"basic"
    }
,
    "bearer":
    {
      "type":"apiKey",
      "description":"Method for authentication using JSON Web Token (JWT)",
      "in":"header",
      "name":"Authorization"
    }
  }
}
