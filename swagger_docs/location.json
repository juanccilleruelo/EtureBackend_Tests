{
  "swagger":"2.0",
  "info":
  {
    "version":"Ver 1.0",
    "title":"Eture Server API",
    "description":"Eture Server RESTful API Documentation",
    "contact":
    {
      "name":"Juan C.Cilleruelo",
      "email":"juanc.cilleruelo@sencille.es",
      "url":"https:\/\/github.com\/juanccilleruelo"
    }
  }
,
  "host":"127.0.0.1:8181",
  "basePath":"\/api",
  "schemes":
  [
    "http"
  ]
,
  "paths":
  {
    "\/login":
    {
      "post":
      {
        "tags":
        [
          "JWT Authentication"
        ]
,
        "description":"Create JSON Web Token",
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"header",
            "name":"jwtusername",
            "type":"string"
          }
,
          
          {
            "in":"header",
            "name":"jwtpassword",
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"OK",
            "schema":
            {
              "type":"object",
              "properties":
              {
                "token":
                {
                  "type":"string",
                  "description":"JWT Token"
                }
              }
            }
          }
,
          "401":
          {
            "description":"Invalid authorization type"
          }
,
          "403":
          {
            "description":"Forbidden"
          }
,
          "500":
          {
            "description":"Internal server error"
          }
        }
,
        "security":
        [
                    {
            "basic":
            [
                          ]
          }
        ]
      }
    }
,
    "\/location\/insertlocation":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Create a new location",
        "operationId":"insertLocation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"ADDRESS_TEXT",
            "description":"Physical address for type F locations (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"VIRTUAL_URL",
            "description":"Meeting URL for type V locations (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"LATITUDE",
            "description":"Geographic latitude (optional)",
            "type":"number"
          }
,
          
          {
            "in":"body",
            "name":"LONGITUDE",
            "description":"Geographic longitude (optional)",
            "type":"number"
          }
,
          
          {
            "in":"body",
            "name":"NOTES",
            "description":"Additional notes (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"DS_LOCATION",
            "description":"Location name (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"TYPE_LOCATION",
            "description":"Location type: F (Physical) or V (Virtual) (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "201":
          {
            "description":"Location created successfully, returns NEW_ID with the new location identifier"
          }
,
          "400":
          {
            "description":"Invalid TYPE_LOCATION value - must be F or V. Check X-Error-Message header for details"
          }
,
          "409":
          {
            "description":"Location with this name already exists. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error during transaction. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/location\/updatelocation":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Update an existing location",
        "operationId":"updateLocation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"TYPE_LOCATION",
            "description":"Location type: F (Physical) or V (Virtual) (required)",
            "required":true,
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"ADDRESS_TEXT",
            "description":"Physical address for type F locations (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"VIRTUAL_URL",
            "description":"Meeting URL for type V locations (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"LATITUDE",
            "description":"Geographic latitude (optional)",
            "type":"number"
          }
,
          
          {
            "in":"body",
            "name":"LONGITUDE",
            "description":"Geographic longitude (optional)",
            "type":"number"
          }
,
          
          {
            "in":"body",
            "name":"NOTES",
            "description":"Additional notes (optional)",
            "type":"string"
          }
,
          
          {
            "in":"body",
            "name":"ID_LOCATION",
            "description":"Location identifier (required)",
            "required":true,
            "type":"integer"
          }
,
          
          {
            "in":"body",
            "name":"DS_LOCATION",
            "description":"Location name (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Location updated successfully, returns ID_LOCATION"
          }
,
          "400":
          {
            "description":"Invalid TYPE_LOCATION value - must be F or V. Check X-Error-Message header for details"
          }
,
          "404":
          {
            "description":"Location not found or inactive. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/location\/deletelocation":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Delete a location (soft delete)",
        "operationId":"deleteLocation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"ID_LOCATION",
            "description":"Location identifier (required)",
            "required":true,
            "type":"integer"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Location deleted successfully (soft delete - status changed to cancelled), returns ID_LOCATION"
          }
,
          "404":
          {
            "description":"Location not found or already inactive. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/location\/getalllocations":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Get all active locations",
        "operationId":"getAllLocations",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "responses":
        {
          "200":
          {
            "description":"List of all active locations with ID_LOCATION, DS_LOCATION, TYPE_LOCATION, ADDRESS_TEXT, VIRTUAL_URL, LATITUDE, LONGITUDE, NOTES, ST, CREATED_AT, UPDATED_AT"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/location\/getlocationsbytype":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Get locations by type",
        "operationId":"getLocationsByType",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"TYPE_LOCATION",
            "description":"Location type: F (Physical) or V (Virtual) (required)",
            "required":true,
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"List of locations filtered by type with full location details"
          }
,
          "400":
          {
            "description":"Missing required TYPE_LOCATION parameter. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
,
    "\/location\/getonelocation":
    {
      "post":
      {
        "tags":
        [
          "Location"
        ]
,
        "description":"Get a single location by ID or name",
        "operationId":"getOneLocation",
        "consumes":
        [
          "application\/json"
        ]
,
        "produces":
        [
          "application\/json"
        ]
,
        "parameters":
        [
                    {
            "in":"body",
            "name":"ID_LOCATION",
            "description":"Location identifier (optional, if provided DS_LOCATION is ignored)",
            "type":"integer"
          }
,
          
          {
            "in":"body",
            "name":"DS_LOCATION",
            "description":"Location name (required if ID_LOCATION not provided)",
            "type":"string"
          }
        ]
,
        "responses":
        {
          "200":
          {
            "description":"Location details - returns array with one location object or empty if not found"
          }
,
          "400":
          {
            "description":"Missing DS_LOCATION when ID_LOCATION not provided. Check X-Error-Message header for details"
          }
,
          "500":
          {
            "description":"Internal server error. Check X-Error-Message header for details"
          }
        }
      }
    }
  }
,
  "securityDefinitions":
  {
    "basic":
    {
      "type":"basic"
    }
,
    "bearer":
    {
      "type":"apiKey",
      "description":"Method for authentication using JSON Web Token (JWT)",
      "in":"header",
      "name":"Authorization"
    }
  }
}
